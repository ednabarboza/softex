//Criar o Banco de Dados
CREATE DATABASE exercicio4

//Usar o Banco de Dados criado anteriormente
USE exercicio4

//Criar tabela
CREATE TABLE produtos (
cód_produto INT NOT NULL auto_increment,
nome_produto VARCHAR(200) NULL,
data_da_compra DATETIME NULL, 
quantidade DECIMAL (10,2),
preco_unit DECIMAL(10,2) NULL,
preco_total DECIMAL(10,2) NULL,
PRIMARY KEY (cód_produto)
)

//Criar trigger para calcular o preço total automaticamente
CREATE TRIGGER tr_preco_Final BEFORE INSERT
ON produtos 
FOR EACH ROW
SET NEW.preco_total = (NEW.quantidade * NEW.preco_unit);

//Inserir valores na tabela
INSERT INTO produtos (nome_produto, data_da_compra, quantidade, preco_unit)
VALUES ("Cerveja Brahma 1L", "2022-09-03", 10, 62.9)

INSERT INTO produtos (nome_produto, data_da_compra, quantidade, preco_unit)
VALUES ("Cerveja Skol 1L", "2022-10-19", 59.3, 20)

INSERT INTO produtos (nome_produto, data_da_compra, quantidade, preco_unit)
VALUES ("Cerveja Skol latão 473 ml", "2022-10-19", 34.4, 30)


//Criar procedure
CREATE PROCEDURE verQuantidade (varQuant INT)  
SELECT CONCAT('A quantidade é: ', quantidade) AS quantidade 
FROM produtos 
WHERE cód_produto = varQuant;

//chamar procedure
CALL verQuantidade(1)

//excluir procedure
DROP PROCEDURE verQuantidade;





